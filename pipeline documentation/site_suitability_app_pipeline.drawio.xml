<mxfile host="app.diagrams.net">
  <diagram name="Site Suitability App Pipeline">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>

        <mxCell id="A" value="User Inputs&#xa;- Data Window&#xa;- Variable&#xa;- Cell Display"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf"
          vertex="1" parent="1">
          <mxGeometry x="380" y="20" width="320" height="100" as="geometry"/>
        </mxCell>

        <mxCell id="B" value="Select Data Sources&#xa;- weekly_master_*&#xa;- weekly_spatial_*"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6"
          vertex="1" parent="1">
          <mxGeometry x="380" y="150" width="320" height="90" as="geometry"/>
        </mxCell>

        <mxCell id="C" value="Join Site Metadata&#xa;- sites_fixed.csv&#xa;- Human-readable site names&#xa;- Lat / Long"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366"
          vertex="1" parent="1">
          <mxGeometry x="380" y="270" width="320" height="110" as="geometry"/>
        </mxCell>

        <mxCell id="D" value="Aggregate &amp; Transform&#xa;- Site × Week matrix&#xa;- Multi-year averaging&#xa;- Per-week normalization&#xa;- suitability_score = 0 → hard no-go"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656"
          vertex="1" parent="1">
          <mxGeometry x="380" y="410" width="320" height="140" as="geometry"/>
        </mxCell>

        <mxCell id="E" value="Apply Variable-Specific Visual Logic&#xa;- Suitability → traffic-light&#xa;- Temperature → blue → beige → red&#xa;- Humidity / Wind → neutral → red"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450"
          vertex="1" parent="1">
          <mxGeometry x="380" y="580" width="320" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="F" value="Interactive Heatmap Output&#xa;- Color = meaning&#xa;- Text = selected display&#xa;- Hover = full context&#xa;- Decision support"
          style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffffff;strokeColor=#000000"
          vertex="1" parent="1">
          <mxGeometry x="380" y="740" width="320" height="120" as="geometry"/>
        </mxCell>

        <mxCell id="e1" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;html=1;" edge="1" parent="1" source="A" target="B">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="e2" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;html=1;" edge="1" parent="1" source="B" target="C">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="e3" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;html=1;" edge="1" parent="1" source="C" target="D">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="e4" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;html=1;" edge="1" parent="1" source="D" target="E">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

        <mxCell id="e5" style="edgeStyle=orthogonalEdgeStyle;endArrow=block;html=1;" edge="1" parent="1" source="E" target="F">
          <mxGeometry relative="1" as="geometry"/>
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
